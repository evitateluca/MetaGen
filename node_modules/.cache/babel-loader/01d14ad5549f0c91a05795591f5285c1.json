{"ast":null,"code":"'use strict';\n\nvar normalize = require('./normalize');\n\nvar DefinedInfo = require('./lib/util/defined-info');\n\nvar Info = require('./lib/util/info');\n\nvar data = 'data';\nmodule.exports = find;\nvar valid = /^data[-\\w.:]+$/i;\nvar dash = /-[a-z]/g;\nvar cap = /[A-Z]/g;\n\nfunction find(schema, value) {\n  var normal = normalize(value);\n  var prop = value;\n  var Type = Info;\n\n  if (normal in schema.normal) {\n    return schema.property[schema.normal[normal]];\n  }\n\n  if (normal.length > 4 && normal.slice(0, 4) === data && valid.test(value)) {\n    // Attribute or property.\n    if (value.charAt(4) === '-') {\n      prop = datasetToProperty(value);\n    } else {\n      value = datasetToAttribute(value);\n    }\n\n    Type = DefinedInfo;\n  }\n\n  return new Type(prop, value);\n}\n\nfunction datasetToProperty(attribute) {\n  var value = attribute.slice(5).replace(dash, camelcase);\n  return data + value.charAt(0).toUpperCase() + value.slice(1);\n}\n\nfunction datasetToAttribute(property) {\n  var value = property.slice(4);\n\n  if (dash.test(value)) {\n    return property;\n  }\n\n  value = value.replace(cap, kebab);\n\n  if (value.charAt(0) !== '-') {\n    value = '-' + value;\n  }\n\n  return data + value;\n}\n\nfunction kebab($0) {\n  return '-' + $0.toLowerCase();\n}\n\nfunction camelcase($0) {\n  return $0.charAt(1).toUpperCase();\n}","map":{"version":3,"names":["normalize","require","DefinedInfo","Info","data","module","exports","find","valid","dash","cap","schema","value","normal","prop","Type","property","length","slice","test","charAt","datasetToProperty","datasetToAttribute","attribute","replace","camelcase","toUpperCase","kebab","$0","toLowerCase"],"sources":["/Applications/MAMP/htdocs/metagen/node_modules/property-information/find.js"],"sourcesContent":["'use strict'\n\nvar normalize = require('./normalize')\nvar DefinedInfo = require('./lib/util/defined-info')\nvar Info = require('./lib/util/info')\n\nvar data = 'data'\n\nmodule.exports = find\n\nvar valid = /^data[-\\w.:]+$/i\nvar dash = /-[a-z]/g\nvar cap = /[A-Z]/g\n\nfunction find(schema, value) {\n  var normal = normalize(value)\n  var prop = value\n  var Type = Info\n\n  if (normal in schema.normal) {\n    return schema.property[schema.normal[normal]]\n  }\n\n  if (normal.length > 4 && normal.slice(0, 4) === data && valid.test(value)) {\n    // Attribute or property.\n    if (value.charAt(4) === '-') {\n      prop = datasetToProperty(value)\n    } else {\n      value = datasetToAttribute(value)\n    }\n\n    Type = DefinedInfo\n  }\n\n  return new Type(prop, value)\n}\n\nfunction datasetToProperty(attribute) {\n  var value = attribute.slice(5).replace(dash, camelcase)\n  return data + value.charAt(0).toUpperCase() + value.slice(1)\n}\n\nfunction datasetToAttribute(property) {\n  var value = property.slice(4)\n\n  if (dash.test(value)) {\n    return property\n  }\n\n  value = value.replace(cap, kebab)\n\n  if (value.charAt(0) !== '-') {\n    value = '-' + value\n  }\n\n  return data + value\n}\n\nfunction kebab($0) {\n  return '-' + $0.toLowerCase()\n}\n\nfunction camelcase($0) {\n  return $0.charAt(1).toUpperCase()\n}\n"],"mappings":"AAAA;;AAEA,IAAIA,SAAS,GAAGC,OAAO,CAAC,aAAD,CAAvB;;AACA,IAAIC,WAAW,GAAGD,OAAO,CAAC,yBAAD,CAAzB;;AACA,IAAIE,IAAI,GAAGF,OAAO,CAAC,iBAAD,CAAlB;;AAEA,IAAIG,IAAI,GAAG,MAAX;AAEAC,MAAM,CAACC,OAAP,GAAiBC,IAAjB;AAEA,IAAIC,KAAK,GAAG,iBAAZ;AACA,IAAIC,IAAI,GAAG,SAAX;AACA,IAAIC,GAAG,GAAG,QAAV;;AAEA,SAASH,IAAT,CAAcI,MAAd,EAAsBC,KAAtB,EAA6B;EAC3B,IAAIC,MAAM,GAAGb,SAAS,CAACY,KAAD,CAAtB;EACA,IAAIE,IAAI,GAAGF,KAAX;EACA,IAAIG,IAAI,GAAGZ,IAAX;;EAEA,IAAIU,MAAM,IAAIF,MAAM,CAACE,MAArB,EAA6B;IAC3B,OAAOF,MAAM,CAACK,QAAP,CAAgBL,MAAM,CAACE,MAAP,CAAcA,MAAd,CAAhB,CAAP;EACD;;EAED,IAAIA,MAAM,CAACI,MAAP,GAAgB,CAAhB,IAAqBJ,MAAM,CAACK,KAAP,CAAa,CAAb,EAAgB,CAAhB,MAAuBd,IAA5C,IAAoDI,KAAK,CAACW,IAAN,CAAWP,KAAX,CAAxD,EAA2E;IACzE;IACA,IAAIA,KAAK,CAACQ,MAAN,CAAa,CAAb,MAAoB,GAAxB,EAA6B;MAC3BN,IAAI,GAAGO,iBAAiB,CAACT,KAAD,CAAxB;IACD,CAFD,MAEO;MACLA,KAAK,GAAGU,kBAAkB,CAACV,KAAD,CAA1B;IACD;;IAEDG,IAAI,GAAGb,WAAP;EACD;;EAED,OAAO,IAAIa,IAAJ,CAASD,IAAT,EAAeF,KAAf,CAAP;AACD;;AAED,SAASS,iBAAT,CAA2BE,SAA3B,EAAsC;EACpC,IAAIX,KAAK,GAAGW,SAAS,CAACL,KAAV,CAAgB,CAAhB,EAAmBM,OAAnB,CAA2Bf,IAA3B,EAAiCgB,SAAjC,CAAZ;EACA,OAAOrB,IAAI,GAAGQ,KAAK,CAACQ,MAAN,CAAa,CAAb,EAAgBM,WAAhB,EAAP,GAAuCd,KAAK,CAACM,KAAN,CAAY,CAAZ,CAA9C;AACD;;AAED,SAASI,kBAAT,CAA4BN,QAA5B,EAAsC;EACpC,IAAIJ,KAAK,GAAGI,QAAQ,CAACE,KAAT,CAAe,CAAf,CAAZ;;EAEA,IAAIT,IAAI,CAACU,IAAL,CAAUP,KAAV,CAAJ,EAAsB;IACpB,OAAOI,QAAP;EACD;;EAEDJ,KAAK,GAAGA,KAAK,CAACY,OAAN,CAAcd,GAAd,EAAmBiB,KAAnB,CAAR;;EAEA,IAAIf,KAAK,CAACQ,MAAN,CAAa,CAAb,MAAoB,GAAxB,EAA6B;IAC3BR,KAAK,GAAG,MAAMA,KAAd;EACD;;EAED,OAAOR,IAAI,GAAGQ,KAAd;AACD;;AAED,SAASe,KAAT,CAAeC,EAAf,EAAmB;EACjB,OAAO,MAAMA,EAAE,CAACC,WAAH,EAAb;AACD;;AAED,SAASJ,SAAT,CAAmBG,EAAnB,EAAuB;EACrB,OAAOA,EAAE,CAACR,MAAH,CAAU,CAAV,EAAaM,WAAb,EAAP;AACD"},"metadata":{},"sourceType":"script"}